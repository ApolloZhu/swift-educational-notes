<!doctype html><html lang=zh><meta charset=utf-8><meta name=generator content="Hugo 0.69.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>名义类型（nominal type）&nbsp;&ndash;&nbsp;Swift 错误诊断教育文档</title><link rel=stylesheet href=/swift-educational-notes/css/core.min.f5b46ab7726a89c4c4427e81e3394a9601864adfbf9f360f3c77f8b8020741eebfea86a5869457b65830fd865a6ad268.css integrity=sha384-9bRqt3JqicTEQn6B4zlKlgGGSt+/nzYPPHf4uAIHQe6/6oalhpRXtlgw/YZaatJo><link rel=apple-touch-icon sizes=180x180 href=https://apollozhu.github.io/swift-educational-notes/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://apollozhu.github.io/swift-educational-notes/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://apollozhu.github.io/swift-educational-notes/favicon-16x16.png><link rel=manifest href=https://apollozhu.github.io/swift-educational-notes/site.webmanifest><link rel=mask-icon href=https://apollozhu.github.io/swift-educational-notes/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><body><div class=base-body><section id=header class="site header"><div class="header wrap"><span class="header left-side"><a class="site home" href=/swift-educational-notes/><img class="site logo" src=/swift-educational-notes/icon.png alt><span class="site name">Swift 错误诊断教育文档</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/swift-educational-notes/about/>关于</a><a class="nav item" href=https://github.com/ApolloZhu/swift-educational-notes target=_blank>GitHub</a></nav></div></span></div></section><div id=content><div class=article-container><section class="article header"><h1 class="article title">名义类型（nominal type）</h1><p class="article date">2019-11-02</p></section><article class="article markdown-body"><p>在 Swift 语言中，名义类型（nominal type）是指有名字的类型。换言之，它是在代码里某个地方通过声明这个类型来定义的。举个例子，名义类型包含所有的类、结构体和枚举类型；它们都需要先定义才能使用。而名义类型之所以特别，是因为他们能够被扩展，通过 <code>类型名称()</code> 直接初始化，还能够遵循协议。</p><p>任何不是名义类型的类型都是非名义类型（non-nominal type），那它们相对应的也就没有这些功能。因为非名义类型一般是通过组合其他类型得来的，所以偶尔也会被称为结构类型（structural type）。非名义类型包括像 <code>(Int) -> (String)</code> 这样的函数类型、<code>(Int, String)</code> 这样的枚举类型、<code>Int.Type</code> 这样的元类型（metatype）和 <code>Any</code> 以及 <code>AnyObject</code> 这样的特殊类型。</p><p>一个协议是否为名义类型，取决于它出现在什么地方。当在被定义，以及像 <code>extension 某个协议 { ... }</code> 这样被扩展时，<code>某个协议</code> 是一个具体的协议类型，因此它是名义类型，可以被扩展、可以遵循协议。然而，当被用作常量或变量的类型时，<code>某个协议</code> 其实替代了一个非名义但实际存在（existential）的类型。这就导致</p><div class=highlight><pre class=chroma><code class=language-swift data-lang=swift><span class=kd>let</span> <span class=nv>value</span><span class=p>:</span> <span class=err>某个协议</span> <span class=p>=</span> <span class=err>某个协议</span><span class=p>()</span>
</code></pre></div><p>这样的代码是没法编译的。因为 <code>某个协议</code> 在这里是个非名义类型，所以它不能在等号右边被直接初始化。</p></article><section class="article license">许可协议：<a href=https://github.com/apple/swift/blob/master/LICENSE.txt target=_blank>Apache 2.0 许可+运行时特许</a></section></div><section class="article discussion"><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"apollonian"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div><section id=footer class=footer><div class=footer-wrap><p class=copyright>Copyright © 2020 Apollo Zhu</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-72767473-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>